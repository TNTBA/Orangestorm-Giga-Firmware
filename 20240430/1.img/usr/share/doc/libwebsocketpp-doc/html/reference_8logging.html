<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>WebSocket++: Logging Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="manual.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">WebSocket++
   &#160;<span id="projectnumber">0.8.1</span>
   </div>
   <div id="projectbrief">C++ websocket client/server library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Logging Reference </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>WebSocket++ has the capability of logging events during the lifetime of the connections that it processes. Each endpoint has two independent logging interfaces that are used by all connections created by that endpoint. The first is an access interface that allows logging routine events in the life of a connection (such as connect/disconnect and receipt of messages). The other is an error interface that allows logging non-routine problems or errors. Each interface has a number of different named channels that can be toggled on and off independently.</p>
<p>Exactly how these logs are processed and where they are written to depends on which logging policy is in use. Several logging policies are included by default and you can write your own policy if you need something more specialized. Selecting a policy is done via the <a class="el" href="reference_8config.html">endpoint config</a>.</p>
<h2>Common functionality (all policies) </h2>
<h3>Logging Channels</h3>
<p>Each logging interface is divided into 32 named channels. Log messages are written to a specific interface on a specific channel. Which log messages are actually printed is determined by which channels are enabled or not. Channels can be enabled or disabled either at compile time or at runtime.</p>
<h3>Enabling and Disabling Channels</h3>
<p>Channels disabled at compile time are removed from the code entirely (assuming correct compiler optimization settings) and are not available for runtime enabling or disabling. To disable channels at compile time, use the <code>alog_level</code> and <code>elog_level</code> values within your <a class="el" href="reference_8config.html">endpoint config</a>. Channels not disabled at compile time can be enabled or disabled at runtime using the <code><a class="el" href="classwebsocketpp_1_1endpoint.html#a5d7da609ebd2f797e5e67b6d050ebc59" title="Set Access logging channel. ">websocketpp::endpoint::set_access_channels()</a></code>, <code><a class="el" href="classwebsocketpp_1_1endpoint.html#a3fe357b3c6434273a9965eb52902575d" title="Clear Access logging channels. ">websocketpp::endpoint::clear_access_channels()</a></code>, <code><a class="el" href="classwebsocketpp_1_1endpoint.html#a8292bcdca9344b57af1b0964ff7fc778" title="Set Error logging channel. ">websocketpp::endpoint::set_error_channels()</a></code>, and <code><a class="el" href="classwebsocketpp_1_1endpoint.html#a8cefa4fc37c0df4eb6ed0bcf04bb0da5" title="Clear Error logging channels. ">websocketpp::endpoint::clear_error_channels()</a></code> methods.</p>
<p>The set and clear functions act only on the channels specified. <code>set_access_channels(log::alevel::connect)</code> will enable logging of new connections. Following this with <code>set_access_channels(log::alevel::disconnect)</code> will enable logging of disconnections in addition to connections. Use <code>clear*</code> functions to disable a specific channel. Channels may be combined using bitwise operations to create aggregate packages of channels that may be set or cleared at once. Default packages include <code><a class="el" href="structwebsocketpp_1_1log_1_1alevel.html#a853aa0b8976e53f3181af3bc398d493e" title="Special aggregate value representing &quot;all levels&quot;. ">websocketpp::log::alevel::all</a></code>, <code><a class="el" href="structwebsocketpp_1_1log_1_1elevel.html#a9b31ff708c221d314f9f4eb3ff2b1ad7" title="Special aggregate value representing &quot;all levels&quot;. ">websocketpp::log::elevel::all</a></code>, <code><a class="el" href="structwebsocketpp_1_1log_1_1alevel.html#a4cf0520816094999975fe73081cf30f2" title="Special aggregate value representing &quot;no levels&quot;. ">websocketpp::log::alevel::none</a></code>, <code><a class="el" href="structwebsocketpp_1_1log_1_1elevel.html#ae86395aa26ec2089e07fd63b62a549fa" title="Special aggregate value representing &quot;no levels&quot;. ">websocketpp::log::elevel::none</a></code>. These represent all possible access/error channels and no access/error channels respectively. For convenience, setting none is aliased to clearing all.</p>
<h3>Examples</h3>
<p><b>Disable all</b></p>
<p><code>clear_access_channels(log::alevel::all)</code></p>
<p><b>Disable all (alternative method)</b></p>
<p><code>set_access_channels(log::alevel::none)</code></p>
<p><b>Multiple channels at once</b></p>
<p><code>log::alevel::message_payload | log::alevel::message_payload</code></p>
<p><b>All except one</b></p>
<p><code>log::alevel::all ^ log::alevel::message_payload</code></p>
<p><b>Default settings</b></p>
<p>By default, only debug/development logging is disabled.</p>
<h3>Access to underlying loggers</h3>
<p>Logging interfaces may be directly accessed via their associated endpoint or connection using get_alog() and get_elog(). This allows access to methods specific to the chosen logging policy.</p>
<h2>Basic Logging (Default Policy) </h2>
<p>The basic logging policy (<code><a class="el" href="classwebsocketpp_1_1log_1_1basic.html" title="Basic logger that outputs to an ostream. ">websocketpp::log::basic</a></code>) writes logs to a std::ostream. By default, access logs are written to stdout and error logs are written to stderr. Each logging interface may be optionally redirected to an arbitrary C++ stream (including file streams) using the <code>websocketpp::log::basic::set_ostream()</code> method.</p>
<h2>Syslog Logging </h2>
<p>The syslog logging policy (<code><a class="el" href="classwebsocketpp_1_1log_1_1syslog.html" title="Basic logger that outputs to syslog. ">websocketpp::log::syslog</a></code>) logs to POSIX syslog. It is included in the header <code>&lt;<a class="el" href="syslog_8hpp_source.html">websocketpp/logger/syslog.hpp</a>&gt;</code>. It requires a system with <code>&lt;syslog.h&gt;</code>.</p>
<h2>Stub Logging </h2>
<p>The stub logging policy (<code><a class="el" href="classwebsocketpp_1_1log_1_1stub.html" title="Stub logger that ignores all input. ">websocketpp::log::stub</a></code>) implements the logging policy interface but ignores all input and provides no output. It can be used to stub out the logging system in tests or to completely disable and remove nearly all logging related code.</p>
<p>The stub logger also provides documentation for the minimal required interface to build a custom logging policy.</p>
<h2>Log level reference </h2>
<h3>Error Logging Levels</h3>
<p>Each of these channels is in the namespace <code><a class="el" href="structwebsocketpp_1_1log_1_1elevel.html" title="Package of log levels for logging errors. ">websocketpp::log::elevel</a></code></p>
<table class="doxtable">
<tr>
<th>Level </th><th>Description  </th></tr>
<tr>
<td>none </td><td>Special aggregate value representing "no levels" </td></tr>
<tr>
<td>devel </td><td>Low level debugging information (warning: very chatty). Requires debug or custom config. </td></tr>
<tr>
<td>library </td><td>Information about unusual system states or other minor internal library problems, less chatty than devel. </td></tr>
<tr>
<td>info </td><td>Information about minor configuration problems or additional information about other warnings. </td></tr>
<tr>
<td>warn </td><td>Information about important problems not severe enough to terminate connections. </td></tr>
<tr>
<td>rerror </td><td>Recoverable error. Recovery may mean cleanly closing the connection with an appropriate error code to the remote endpoint. </td></tr>
<tr>
<td>fatal </td><td>Unrecoverable error. This error will trigger immediate unclean termination of the connection or endpoint. </td></tr>
<tr>
<td>all </td><td>Special aggregate value representing "all levels" </td></tr>
</table>
<h3>Access Logging Levels</h3>
<p>Each of these channels is in the namespace <code><a class="el" href="structwebsocketpp_1_1log_1_1alevel.html" title="Package of log levels for logging access events. ">websocketpp::log::alevel</a></code></p>
<table class="doxtable">
<tr>
<th>Level </th><th>Description  </th></tr>
<tr>
<td>none </td><td>Special aggregate value representing "no levels" </td></tr>
<tr>
<td>connect </td><td>One line for each new connection that includes a host of information including: the remote address, websocket version, requested resource, http code, remote user agent </td></tr>
<tr>
<td>disconnect </td><td>One line for each connection that is closed. Includes closing codes and reasons </td></tr>
<tr>
<td>control </td><td>One line per control message </td></tr>
<tr>
<td>frame_header </td><td>One line per frame, includes the full frame header </td></tr>
<tr>
<td>frame_payload </td><td>One line per frame, includes the full message payload (warning: lots of output for large messages) </td></tr>
<tr>
<td>message_header </td><td>Reserved </td></tr>
<tr>
<td>message_payload </td><td>Reserved </td></tr>
<tr>
<td>endpoint </td><td>Reserved </td></tr>
<tr>
<td>debug_handshake </td><td>Extra information about opening handshakes </td></tr>
<tr>
<td>debug_close </td><td>Extra information about closing handshakes </td></tr>
<tr>
<td>devel </td><td>Development messages (warning: very chatty). Requires debug or custom config. </td></tr>
<tr>
<td>app </td><td>Special channel for application specific logs. Not used by the library. </td></tr>
<tr>
<td>all </td><td>Special aggregate value representing "all levels" </td></tr>
</table>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
